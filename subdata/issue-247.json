{"url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/2730", "repository_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT", "labels_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/2730/labels{/name}", "comments_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/2730/comments", "events_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/2730/events", "html_url": "https://github.com/Significant-Gravitas/Auto-GPT/pull/2730", "id": 1677502391, "node_id": "PR_kwDOJKSTjM5Ozxcl", "number": 2730, "title": "Add the ability to make HTTP requests", "user": {"login": "TylerKnvpp", "id": 43887092, "node_id": "MDQ6VXNlcjQzODg3MDky", "avatar_url": "https://avatars.githubusercontent.com/u/43887092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TylerKnvpp", "html_url": "https://github.com/TylerKnvpp", "followers_url": "https://api.github.com/users/TylerKnvpp/followers", "following_url": "https://api.github.com/users/TylerKnvpp/following{/other_user}", "gists_url": "https://api.github.com/users/TylerKnvpp/gists{/gist_id}", "starred_url": "https://api.github.com/users/TylerKnvpp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TylerKnvpp/subscriptions", "organizations_url": "https://api.github.com/users/TylerKnvpp/orgs", "repos_url": "https://api.github.com/users/TylerKnvpp/repos", "events_url": "https://api.github.com/users/TylerKnvpp/events{/privacy}", "received_events_url": "https://api.github.com/users/TylerKnvpp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 5394106095, "node_id": "LA_kwDOJKSTjM8AAAABQYOG7w", "url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/labels/potential%20plugin", "name": "potential plugin", "color": "0052cc", "default": false, "description": "This may fit better into our plugin system."}, {"id": 5400185961, "node_id": "LA_kwDOJKSTjM8AAAABQeBMaQ", "url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/labels/conflicts", "name": "conflicts", "color": "FBCA04", "default": false, "description": "Automatically applied to PRs with merge conflicts"}, {"id": 5410633608, "node_id": "LA_kwDOJKSTjM8AAAABQn-3iA", "url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/labels/size/l", "name": "size/l", "color": "709B6D", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2023-04-20T22:16:09Z", "updated_at": "2023-04-24T19:41:40Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/pulls/2730", "html_url": "https://github.com/Significant-Gravitas/Auto-GPT/pull/2730", "diff_url": "https://github.com/Significant-Gravitas/Auto-GPT/pull/2730.diff", "patch_url": "https://github.com/Significant-Gravitas/Auto-GPT/pull/2730.patch", "merged_at": null}, "body": "### Background\r\nThis change was implemented to enhance Auto-GPT's capabilities by enabling it to interact with external APIs and web services through HTTP requests. The addition of this feature allows the AI to access a broader range of information and resources, opening up new possibilities for task completion and automation.\r\n\r\n### Changes\r\nIn this pull request, a focused and specific change has been made to enable Auto-GPT to perform HTTP requests. The following modifications were implemented:\r\n\r\n1. **Created the make_http_method:** A new function called `make_http_method` was developed. This function is responsible for handling and executing the actual HTTP requests based on the given method type, authentication token, input, and URL.\r\n2. **Added the command:** The command that triggers the `make_http_method` function was integrated into Auto-GPT's existing command structure. This allows users to invoke the new functionality by simply providing the required parameters.\r\n\r\nThese modifications were specifically focused on enhancing Auto-GPT's capabilities by adding the ability to make HTTP requests. No unrelated or \"extra\" changes were included in this pull request, ensuring a clear and concise implementation.\r\n\r\n### Documentation\r\nThe changes made in the provided method are documented through a combination of in-code comments and clear function naming conventions. This ensures that the code is easy to understand and maintain for other contributors or users. Here's a breakdown of the documentation:\r\n\r\n1. **Import statements:** Necessary libraries and modules are imported at the beginning of the code, making it clear which dependencies are required for the method to function correctly.\r\n2. **Type alias for JSON:** A type alias named JSONType is created to represent various JSON data types. This makes it easier to understand the expected data types when handling JSON data within the function.\r\n3. **Function definition:** The `make_http_request` function is defined with a clear and descriptive name, along with typed arguments (url, method, and data) that indicate the expected input parameters. This makes it easy to understand the function's purpose and usage.\r\n4. **In-code comments:** Throughout the function, concise comments are placed to explain each step of the process, such as loading the API key, setting up headers, and sending the request. These comments guide the reader through the code, making it easier to understand the logic and flow.\r\n5. **Error handling:** The try and except blocks are used to handle any errors that might occur during the request process. In the event of an error, the code prints a message and a traceback to provide context for debugging.\r\n\r\n### Test Plan\r\n1. **Setup an API route:** I created an API route within another application that listens for incoming requests at `/api/auto-gpt`. This serves as a test endpoint to validate the functionality of the `make_http_request` method.\r\n2. **Create test cases:** I prepared several test cases, with the most relevant being a POST request to http://localhost:3000/api/auto-gpt with a request body containing a message saying \"Hello, World\".\r\n3. **Run the test:** To test the functionality, I gave the agent the following tasks\r\n  - Prompt the user for a url, what they want to send, and how to authorize the request\r\n  - format what the user whats to send in JSON\r\n  - use the `make_http_request` to make an HTTP request to the desired URL\r\n4. **Verify the response:** After sending the request, I checked the response received from the `/api/auto-gpt` endpoint. I verified that the response had the expected status code (e.g., 200 OK or 201 Created), and the response body contained the expected data or an acknowledgment of the successful POST request by logging it to the terminal.\r\n\r\n### PR Quality Checklist\r\n- [x] My pull request is atomic and focuses on a single change.\r\n- [x] I have thoroughly tested my changes with multiple different prompts.\r\n- [x] I have considered potential risks and mitigations for my changes.\r\n- [x] I have documented my changes clearly and comprehensively.\r\n- [x] I have not snuck in any \"extra\" small tweaks changes\r\n", "reactions": {"url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/2730/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/2730/timeline", "performed_via_github_app": null, "state_reason": null}