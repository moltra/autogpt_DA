{"url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/3218", "repository_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT", "labels_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/3218/labels{/name}", "comments_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/3218/comments", "events_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/3218/events", "html_url": "https://github.com/Significant-Gravitas/Auto-GPT/pull/3218", "id": 1683216157, "node_id": "PR_kwDOJKSTjM5PGxwm", "number": 3218, "title": "Adding default ethical guidelines to keep Auto-GPT safe.", "user": {"login": "eliyah23rd", "id": 122742314, "node_id": "U_kgDOB1DmKg", "avatar_url": "https://avatars.githubusercontent.com/u/122742314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eliyah23rd", "html_url": "https://github.com/eliyah23rd", "followers_url": "https://api.github.com/users/eliyah23rd/followers", "following_url": "https://api.github.com/users/eliyah23rd/following{/other_user}", "gists_url": "https://api.github.com/users/eliyah23rd/gists{/gist_id}", "starred_url": "https://api.github.com/users/eliyah23rd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eliyah23rd/subscriptions", "organizations_url": "https://api.github.com/users/eliyah23rd/orgs", "repos_url": "https://api.github.com/users/eliyah23rd/repos", "events_url": "https://api.github.com/users/eliyah23rd/events{/privacy}", "received_events_url": "https://api.github.com/users/eliyah23rd/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 5357331385, "node_id": "LA_kwDOJKSTjM8AAAABP1JjuQ", "url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/labels/Needs%20Benchmark", "name": "Needs Benchmark", "color": "1d76db", "default": false, "description": "This change is hard to test and requires a benchmark"}, {"id": 5381931159, "node_id": "LA_kwDOJKSTjM8AAAABQMnAlw", "url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/labels/needs%20discussion", "name": "needs discussion", "color": "0e8a16", "default": false, "description": "To be discussed among maintainers"}, {"id": 5394106095, "node_id": "LA_kwDOJKSTjM8AAAABQYOG7w", "url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/labels/potential%20plugin", "name": "potential plugin", "color": "0052cc", "default": false, "description": "This may fit better into our plugin system."}, {"id": 5410633769, "node_id": "LA_kwDOJKSTjM8AAAABQn-4KQ", "url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/labels/size/xl", "name": "size/xl", "color": "E751DD", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 22, "created_at": "2023-04-25T13:49:57Z", "updated_at": "2023-05-02T14:40:54Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/pulls/3218", "html_url": "https://github.com/Significant-Gravitas/Auto-GPT/pull/3218", "diff_url": "https://github.com/Significant-Gravitas/Auto-GPT/pull/3218.diff", "patch_url": "https://github.com/Significant-Gravitas/Auto-GPT/pull/3218.patch", "merged_at": null}, "body": "<!-- \u26a0\ufe0f At the moment any non-essential commands are not being merged.\r\nIf you want to add non-essential commands to Auto-GPT, please create a plugin instead.\r\nWe are expecting to ship plugin support within the week (PR #757).\r\nResources:\r\n* https://github.com/Significant-Gravitas/Auto-GPT-Plugin-Template\r\n-->\r\n\r\n<!-- \ud83d\udce2 Announcement\r\nWe've recently noticed an increase in pull requests focusing on combining multiple changes. While the intentions behind these PRs are appreciated, it's essential to maintain a clean and manageable git history. To ensure the quality of our repository, we kindly ask you to adhere to the following guidelines when submitting PRs:\r\n\r\nFocus on a single, specific change.\r\nDo not include any unrelated or \"extra\" modifications.\r\nProvide clear documentation and explanations of the changes made.\r\nEnsure diffs are limited to the intended lines \u2014 no applying preferred formatting styles or line endings (unless that's what the PR is about).\r\nFor guidance on committing only the specific lines you have changed, refer to this helpful video: https://youtu.be/8-hSNHHbiZg\r\n\r\nBy following these guidelines, your PRs are more likely to be merged quickly after testing, as long as they align with the project's overall direction. -->\r\n\r\n### Background\r\n<!-- Provide a concise overview of the rationale behind this change. Include relevant context, prior discussions, or links to related issues. Ensure that the change aligns with the project's overall direction. -->\r\nThe purpose of this change is to create a default ethical and performance monitoring guideline system.\r\nAuto-GPT is already a major focus for creation of autonomous GPT-based systems and is already being used as the basis of such applications for future deployment. The project will continue to be copied and  must include some default mechanism that continuously makes sure, at every action, that it is not being used in unethical ways.\r\nHowever, the goal is not to attempt to apply a specific moral system in a heavy-handed way but rather to let the developer stay in control.\r\nThe proposal for this change was originally introduces in the discussion thread referenced below.\r\n\r\n### Changes\r\n<!-- Describe the specific, focused change made in this pull request. Detail the modifications clearly and avoid any unrelated or \"extra\" changes. -->\r\nChanges have been made in the program's main loop function def run_auto_gpt() and start_interaction_loop(). \r\nThis is required because ethical monitoring cannot be run as an optional task but must rather be involved at the top level.\r\nAt the end of each iteration of start_interaction_loop(), the guideline manager is called to evaluate the last few messages in full_message_history. This builds a prompt consisting of system instructions, the recent history and the list of guidelines to check activity against.\r\nIf a guideline violation is detected, at present all that happens is that a violation alert is put into the message history stream. As future decisions are taken, it is expected that these messages will play a part in future actions.\r\n\r\n### Documentation\r\n<!-- Explain how your changes are documented, such as in-code comments or external documentation. Ensure that the documentation is clear, concise, and easy to understand. -->\r\nI proposed this changed and have continues discussions in the following discussion thread:\r\nhttps://github.com/Significant-Gravitas/Auto-GPT/discussions/1287\r\n\r\n\r\n### Test Plan\r\n<!-- Describe how you tested this functionality. Include steps to reproduce, relevant test cases, and any other pertinent information. -->\r\nSince it is not easy to generate a standard ethical violation at this stage of development, I tested the functionality as follows:\r\n1. I added guidelines that forbid writing any Python code or executing python files\r\n2. I tasked Auto-GPT with testing the Python code execution modules\r\n3. I verified that the actions that were taken generated violation alerts.\r\n\r\nTest results and insights:\r\n\r\nWhile the violations were recorded, GPT did not notice them with sufficient consistency. Sometimes there was no response to clear violations. Future development of this feature should make sure that these cannot be missed.\r\n\r\nI does not seem like the main thread took notice of these violations. Future development of this feature must address this.\r\n\r\n### PR Quality Checklist\r\n- [x] My pull request is atomic and focuses on a single change.\r\n- [x] I have thoroughly tested my changes with multiple different prompts.\r\n- [x] I have considered potential risks and mitigations for my changes.\r\n- [x] I have documented my changes clearly and comprehensively.\r\n- [x] I have not snuck in any \"extra\" small tweaks changes <!-- Submit these as separate Pull Requests, they are the easiest to merge! -->\r\n\r\n<!-- If you haven't added tests, please explain why. If you have, check the appropriate box. If you've ensured your PR is atomic and well-documented, check the corresponding boxes. -->\r\nI have incorporated the basic call into test_agent.\r\nHowever, since the current testing framework does not include real Auto-GPT tasks, it did not make sense to create such a task\r\nand watch for violations\r\n\r\n<!-- By submitting this, I agree that my pull request should be closed if I do not fill this out or follow the guidelines. -->\r\n", "reactions": {"url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/3218/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/3218/timeline", "performed_via_github_app": null, "state_reason": null}