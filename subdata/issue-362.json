{"url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/2130", "repository_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT", "labels_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/2130/labels{/name}", "comments_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/2130/comments", "events_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/2130/events", "html_url": "https://github.com/Significant-Gravitas/Auto-GPT/pull/2130", "id": 1670693641, "node_id": "PR_kwDOJKSTjM5Oc6dt", "number": 2130, "title": "Add wait_time command to allow Auto-GPT to react to rate limit errors", "user": {"login": "SlistInc", "id": 26799535, "node_id": "MDQ6VXNlcjI2Nzk5NTM1", "avatar_url": "https://avatars.githubusercontent.com/u/26799535?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SlistInc", "html_url": "https://github.com/SlistInc", "followers_url": "https://api.github.com/users/SlistInc/followers", "following_url": "https://api.github.com/users/SlistInc/following{/other_user}", "gists_url": "https://api.github.com/users/SlistInc/gists{/gist_id}", "starred_url": "https://api.github.com/users/SlistInc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SlistInc/subscriptions", "organizations_url": "https://api.github.com/users/SlistInc/orgs", "repos_url": "https://api.github.com/users/SlistInc/repos", "events_url": "https://api.github.com/users/SlistInc/events{/privacy}", "received_events_url": "https://api.github.com/users/SlistInc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 5394106095, "node_id": "LA_kwDOJKSTjM8AAAABQYOG7w", "url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/labels/potential%20plugin", "name": "potential plugin", "color": "0052cc", "default": false, "description": "This may fit better into our plugin system."}, {"id": 5399324094, "node_id": "LA_kwDOJKSTjM8AAAABQdMlvg", "url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/labels/B8", "name": "B8", "color": "A54E7C", "default": false, "description": ""}, {"id": 5400185961, "node_id": "LA_kwDOJKSTjM8AAAABQeBMaQ", "url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/labels/conflicts", "name": "conflicts", "color": "FBCA04", "default": false, "description": "Automatically applied to PRs with merge conflicts"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2023-04-17T08:41:42Z", "updated_at": "2023-04-22T23:26:07Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/pulls/2130", "html_url": "https://github.com/Significant-Gravitas/Auto-GPT/pull/2130", "diff_url": "https://github.com/Significant-Gravitas/Auto-GPT/pull/2130.diff", "patch_url": "https://github.com/Significant-Gravitas/Auto-GPT/pull/2130.patch", "merged_at": null}, "body": "<!-- \ud83d\udce2 Announcement\r\nWe've recently noticed an increase in pull requests focusing on combining multiple changes. While the intentions behind these PRs are appreciated, it's essential to maintain a clean and manageable git history. To ensure the quality of our repository, we kindly ask you to adhere to the following guidelines when submitting PRs:\r\n\r\nFocus on a single, specific change.\r\nDo not include any unrelated or \"extra\" modifications.\r\nProvide clear documentation and explanations of the changes made.\r\nEnsure diffs are limited to the intended lines \u2014 no applying preferred formatting styles or line endings (unless that's what the PR is about).\r\nFor guidance on committing only the specific lines you have changed, refer to this helpful video: https://youtu.be/8-hSNHHbiZg\r\n\r\nBy following these guidelines, your PRs are more likely to be merged quickly after testing, as long as they align with the project's overall direction. -->\r\n\r\n### Background\r\nThere are some commands that for one reason or another hit rate limits (e.g. too many API calls, search requests, twitter posts, mails being sent). This method allows Auto-GPT to react and slow down execution whenever it deems it necessary.\r\n\r\nIt would be beneficial to Auto-GPT to be able to slow down whenever it detects such a situation. See tests for a practical case in which this command helped.\r\n\r\n### Changes\r\nAdded the wait_seconds command. The command, when invoked, does nothing more than call a time.sleep. The wait was set to seconds and not minutes or milliseconds as seconds seems a timeframe that is atomic enough. Processing of API's takes ofter more than a second so millisecond would not be beneficial while minutes may be too much. My observations show me that seconds is a concept that a LLM understands quite well. Future updates may introduce wait_minutes, wait_hours or wait_days if necessary.\r\n\r\n### Documentation\r\nI commented the code as other commands where documented. The change is minimal.\r\n\r\n### Test Plan\r\nI tested the command in different ways: running the task with the goals of 'Wait for 5 seconds'. I also used it in my own twitter-enabled Auto-GPT and observed the command being successfuly executed after a rate limit:\r\n\r\n`CRITICISM:  We should be careful when liking tweets to avoid spamming or violating Twitter's terms of service. We should also avoid using the same hashtags repeatedly, as this can be seen as spamming.\r\n\r\nSPEAK:  We received a 'Too Many Requests' error when trying to follow a user. We need to wait for a while before trying to follow users again. ... is important to be careful when liking tweets to avoid spamming or violating Twitter's terms of service, and to avoid using the same hashtags repeatedly.\r\n...\r\nNEXT ACTION:  COMMAND = wait_seconds ARGUMENTS = {'seconds': '1800'}`\r\n\r\n### PR Quality Checklist\r\n- [X] My pull request is atomic and focuses on a single change.\r\n- [X] I have thoroughly tested my changes with multiple different prompts.\r\n- [X] I have considered potential risks and mitigations for my changes.\r\n- [X] I have documented my changes clearly and comprehensively.\r\n- [X] I have not snuck in any \"extra\" small tweaks changes \r\n\r\nI do not have automated tests implemented but ran multiple manual tests.\r\n", "reactions": {"url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/2130/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/2130/timeline", "performed_via_github_app": null, "state_reason": null}