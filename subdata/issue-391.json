{"url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/1876", "repository_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT", "labels_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/1876/labels{/name}", "comments_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/1876/comments", "events_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/1876/events", "html_url": "https://github.com/Significant-Gravitas/Auto-GPT/pull/1876", "id": 1669942057, "node_id": "PR_kwDOJKSTjM5OadaA", "number": 1876, "title": "Add AnalyticDB as a long-term memory backend.", "user": {"login": "wangxuqi", "id": 13748374, "node_id": "MDQ6VXNlcjEzNzQ4Mzc0", "avatar_url": "https://avatars.githubusercontent.com/u/13748374?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wangxuqi", "html_url": "https://github.com/wangxuqi", "followers_url": "https://api.github.com/users/wangxuqi/followers", "following_url": "https://api.github.com/users/wangxuqi/following{/other_user}", "gists_url": "https://api.github.com/users/wangxuqi/gists{/gist_id}", "starred_url": "https://api.github.com/users/wangxuqi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wangxuqi/subscriptions", "organizations_url": "https://api.github.com/users/wangxuqi/orgs", "repos_url": "https://api.github.com/users/wangxuqi/repos", "events_url": "https://api.github.com/users/wangxuqi/events{/privacy}", "received_events_url": "https://api.github.com/users/wangxuqi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 5394106095, "node_id": "LA_kwDOJKSTjM8AAAABQYOG7w", "url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/labels/potential%20plugin", "name": "potential plugin", "color": "0052cc", "default": false, "description": "This may fit better into our plugin system."}, {"id": 5395898384, "node_id": "LA_kwDOJKSTjM8AAAABQZ7gEA", "url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/labels/B7", "name": "B7", "color": "76B5C6", "default": false, "description": "PR Batch 7"}, {"id": 5410633769, "node_id": "LA_kwDOJKSTjM8AAAABQn-4KQ", "url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/labels/size/xl", "name": "size/xl", "color": "E751DD", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2023-04-16T12:40:26Z", "updated_at": "2023-04-27T03:09:57Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/pulls/1876", "html_url": "https://github.com/Significant-Gravitas/Auto-GPT/pull/1876", "diff_url": "https://github.com/Significant-Gravitas/Auto-GPT/pull/1876.diff", "patch_url": "https://github.com/Significant-Gravitas/Auto-GPT/pull/1876.patch", "merged_at": null}, "body": "Hi there!\r\nThe third long-term memory related pull request\r\n\r\n###  Background\r\nAs I notice there are many vector databases provided in [chatgpt-retrieve-plugin.](https://github.com/openai/chatgpt-retrieval-plugin/tree/main/datastore/providers)\r\nI think all the vector databases can be used by you as a long-term memory. So this is the third commit to add the AnalyticDB of Alibaba Cloud as an option. \r\nAnalyticDB is a full PostgresSQL syntax distributed cloud-native database, easy to used for Postgres users.\r\n\r\n### Changes\r\nThis commit only  \"Add AnalyticDB as a long-term memory backend.\"\r\nwhat I do is:\r\n- Implement AnalyticdbMemory based on MemoryProviderSingleton\r\n- add 'analyticdb' option in \"memory/__init__.py\"\r\n- add 'psycopg2cffi' in requirements.txt to support PostgresSQL related databases.\r\n- add unit test and integration test in 'analyticdb_memory_test.py' and 'analyticdb_memory_tests.py' \r\n\r\n### Documentation\r\nThe implement is very clear in-code comments. I just implement all your API and test all them to work.\r\n- def add(self, data)\r\n- def get(self, data)\r\n- def clear(self)\r\n- def get_relevant(self, data, num_relevant=5)\r\n- def get_stats(self)\r\n\r\n### Test Plan\r\n- Unit test in 'analyticdb_memory_test.py' \r\n- IntegrationTest in 'analyticdb_memory_tests.py' \r\n- Test step: Launch an Analyticdb docker instance `docker run -p \"6333:6333\" -p \"6334:6334\" qdrant/qdrant:v1.0.3`  and then just run all the related cases.\r\n```\r\n============================= test session starts ==============================\r\ncollecting ... collected 5 items\r\n\r\nanalyticdb_memory_test.py::TestAnalyticDBMemory::test_add \r\nanalyticdb_memory_test.py::TestAnalyticDBMemory::test_clear \r\nanalyticdb_memory_test.py::TestAnalyticDBMemory::test_get \r\nanalyticdb_memory_test.py::TestAnalyticDBMemory::test_get_relevant \r\nanalyticdb_memory_test.py::TestAnalyticDBMemory::test_get_stats \r\n\r\n============================== 5 passed in 6.96s ===============================\r\n```\r\n\r\n- I've also tested with the following instructions:\r\n```\r\nWelcome back!  Would you like me to return to being Summarize today's leading news?\r\nContinue with the last settings?\r\nName:  Summarize today's leading news\r\nRole:  an AI designed to autonomously develop and run businesses with the\r\nGoals: [\"Visit a website which provides today's news.\", 'Summarize the articles and write the results to text files', 'Terminate']\r\nContinue (y/n): y\r\nUsing memory of type:  AnalyticDBMemory\r\nUsing Browser:  chrome \r\n...\r\n```\r\n\r\n### PR Quality Checklist\r\n- [x] My pull request is atomic and focuses on a single change.\r\n- [x] I have thoroughly tested my changes with multiple different prompts.\r\n- [x] I have considered potential risks and mitigations for my changes.\r\n- [x] I have documented my changes clearly and comprehensively.\r\n- [x] I have not snuck in any \"extra\" small tweaks changes \r\n<!-- By submitting this, I agree that my pull request should be closed if I do not fill this out or follow the guide lines. -->\r\n", "reactions": {"url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/1876/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/1876/timeline", "performed_via_github_app": null, "state_reason": null}