{"url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/868", "repository_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT", "labels_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/868/labels{/name}", "comments_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/868/comments", "events_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/868/events", "html_url": "https://github.com/Significant-Gravitas/Auto-GPT/pull/868", "id": 1663312953, "node_id": "PR_kwDOJKSTjM5OEUcK", "number": 868, "title": "[Feature] Conversation Summary Mode: Track Assistant Responses", "user": {"login": "scriptogre", "id": 106525874, "node_id": "U_kgDOBll0sg", "avatar_url": "https://avatars.githubusercontent.com/u/106525874?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scriptogre", "html_url": "https://github.com/scriptogre", "followers_url": "https://api.github.com/users/scriptogre/followers", "following_url": "https://api.github.com/users/scriptogre/following{/other_user}", "gists_url": "https://api.github.com/users/scriptogre/gists{/gist_id}", "starred_url": "https://api.github.com/users/scriptogre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scriptogre/subscriptions", "organizations_url": "https://api.github.com/users/scriptogre/orgs", "repos_url": "https://api.github.com/users/scriptogre/repos", "events_url": "https://api.github.com/users/scriptogre/events{/privacy}", "received_events_url": "https://api.github.com/users/scriptogre/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 5400185961, "node_id": "LA_kwDOJKSTjM8AAAABQeBMaQ", "url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/labels/conflicts", "name": "conflicts", "color": "FBCA04", "default": false, "description": "Automatically applied to PRs with merge conflicts"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2023-04-11T22:36:23Z", "updated_at": "2023-04-22T23:26:09Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/pulls/868", "html_url": "https://github.com/Significant-Gravitas/Auto-GPT/pull/868", "diff_url": "https://github.com/Significant-Gravitas/Auto-GPT/pull/868.diff", "patch_url": "https://github.com/Significant-Gravitas/Auto-GPT/pull/868.patch", "merged_at": null}, "body": "### Background\r\nThis pull request introduces the \"Conversation Summary Mode,\" which generates concise GPT-generated summaries for each step and a final summary upon exit. It enables users to track the assistant's responses and identify deviations, ultimately improving its functionality.\r\n\r\nTo activate the mode, run main.py with -cs or --conversation-summary:\r\n```\r\npython scripts/main.py --conversation-summary\r\n```\n\r\n![image](https://user-images.githubusercontent.com/106525874/231313461-b0b198fe-2576-4ec4-b2a6-e37966e1755a.png)\r\n![image](https://user-images.githubusercontent.com/106525874/231313661-1b91c6da-bbcd-4091-a4ff-b92dea225e6c.png)\n\r\n### Changes\r\n\r\n- Introduced Conversation Summary Mode, generating concise step summaries and a final summary upon exit\r\n\r\n- Refactored main.py to support the new mode while maintaining existing functionality\r\n\r\n- Created Summary and SummaryUtils classes to manage summarization features and handle large text\r\n\r\n- Added test coverage for all new methods and classes\r\n\r\n- Updated .env file to accept STEP_SUMMARIZATION_PROMPT and FINAL_SUMMARIZATION_PROMPT variables, allowing users to customize prompts and improve summarization results\r\n\r\n### Documentation\r\nThe new features are accompanied by comprehensive docstrings for each newly added method, code comments where needed, and an updated README.md section explaining how to set up and use this mode. All changes are modular, and the existing code has been minimally altered to adhere to the Separation of Concerns principle.\r\n\r\n### Test Plan\r\nTests cover the initialization of a Summary instance, incrementation of the step counter, printing of step and final summaries to the console, appending of step summaries and results to the summary file, formatting of the final summary prompt, and extraction of the step summary from the assistant's reply. \r\n\r\n### PR Quality Checklist\r\n- [?] My pull request is atomic and focuses on a single change \r\nIt's not really a single change, but it's a very modular change. I tried my best not to touch the existing code too much but keep all the new functionality inside the conversation_summary library for applying the Separation of Concern principle.\r\n\r\n- [\u2713] I have thoroughly tested my changes with multiple different prompts.\r\n- [\u2713] I have considered potential risks and mitigations for my changes.\r\n- [\u2713] I have documented my changes clearly and comprehensively.\r\n- [\u2713] I have not snuck in any \"extra\" small tweaks changes\r\n\r\n### Potential risks and mitigations:\r\nRisk: Summaries may not always be coherent or helpful due to GPT's inherent limitations.\r\nMitigation: Carefully monitor the output to ensure the feature is working as expected and adjust the prompts and code as needed to improve the quality of summaries.\r\n\r\nRisk: Large texts or numerous steps may cause the script to take a long time to generate summaries or hit API rate limits.\r\nMitigation: Implement chunking to handle large texts and limit the number of steps during testing. Additionally, monitor API usage to avoid unexpected costs or throttling.\r\n\r\nRisk: Unexpected bugs or issues may arise when the new mode is enabled or when working with the modified code.\r\nMitigation: Thoroughly test the changes and monitor the output during usage. Address any issues as they arise and consider adding more tests to cover edge cases.\r\n", "reactions": {"url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/868/reactions", "total_count": 6, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 3, "rocket": 3, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/868/timeline", "performed_via_github_app": null, "state_reason": null}