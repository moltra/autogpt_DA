{"url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/623", "repository_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT", "labels_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/623/labels{/name}", "comments_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/623/comments", "events_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/623/events", "html_url": "https://github.com/Significant-Gravitas/Auto-GPT/issues/623", "id": 1660007362, "node_id": "I_kwDOJKSTjM5i8bPC", "number": 623, "title": "Memory Feature seems to not work on gpt3only mode", "user": {"login": "jangofett890", "id": 2407092, "node_id": "MDQ6VXNlcjI0MDcwOTI=", "avatar_url": "https://avatars.githubusercontent.com/u/2407092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jangofett890", "html_url": "https://github.com/jangofett890", "followers_url": "https://api.github.com/users/jangofett890/followers", "following_url": "https://api.github.com/users/jangofett890/following{/other_user}", "gists_url": "https://api.github.com/users/jangofett890/gists{/gist_id}", "starred_url": "https://api.github.com/users/jangofett890/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jangofett890/subscriptions", "organizations_url": "https://api.github.com/users/jangofett890/orgs", "repos_url": "https://api.github.com/users/jangofett890/repos", "events_url": "https://api.github.com/users/jangofett890/events{/privacy}", "received_events_url": "https://api.github.com/users/jangofett890/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 5401552627, "node_id": "LA_kwDOJKSTjM8AAAABQfUm8w", "url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/labels/needs%20investigation", "name": "needs investigation", "color": "C3708F", "default": false, "description": ""}, {"id": 5409160395, "node_id": "LA_kwDOJKSTjM8AAAABQmk8yw", "url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/labels/function:%20memory", "name": "function: memory", "color": "E12F75", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-04-09T21:21:11Z", "updated_at": "2023-04-20T02:32:26Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "### Duplicates\n\n- [X] I have searched the existing issues\n\n### Steps to reproduce \ud83d\udd79\n\n1. Set API Keys for OpenAI, Pinecone, and Eleven Labs, then set the smart model to gpt-3.5-turbo\r\n2. Start AutoGPT with the --gpt3only option\r\n3. Prompt GPT to be a developer, and give it the goal to load a design document text file into long term memory. and the additional goals to develop the project.\n\n### Current behavior \ud83d\ude2f\n\nCurrently the AI will read_file the document, and will output a JSON format error as the document is long, hence the need to load it into long term memory, and it just replies with \"sure, I got that\"\r\n`````````\r\nF:\\AUTOGPT>call python ./scripts/main.py --gpt3only --debug\r\nGPT3.5 Only Mode:  ENABLED\r\nDebug Mode:  ENABLED\r\nWelcome back!  Would you like me to return to being Unity-Dev-GPT?\r\nContinue with the last settings?\r\nName:  Unity-Dev-GPT\r\nRole:  An AI designed to build Video Games, Libraries, Editor Extensions, and Packages for Unity LTS 2021.\r\nGoals: ['Load the design document file under `./designdocument.txt` into long term memory.', 'Find out the currently created files in the unity project under `./UnityProject/Assets`, then improve the code according to the design document, solving any issues or bugs found.', 'Find out what needs to be implemented next, then implement it, then do this step again until there is nothing left to implement.', 'Double check and make sure everything is implemented in the Unity Project Files from your understanding of the project, then refine and criticize the code making sure everything is in working order.', 'Shut Down.']\r\nContinue (y/n): y\r\nUsing memory of type: LocalCache\r\nToken limit: 4000\r\nMemory Stats:  (0, (0, 1536))\r\nToken limit: 4000\r\nSend Token Count: 972\r\nTokens remaining for response: 3028\r\n------------ CONTEXT SENT TO AI ---------------\r\nSystem: The current time and date is Sun Apr  9 14:13:43 2023\r\n\r\nSystem: This reminds you of these events from your past:\r\n[]\r\n\r\n\r\n\r\nUser: Determine which next command to use, and respond using the format specified above:\r\n\r\n----------- END OF CONTEXT ----------------\r\nUNITY-DEV-GPT THOUGHTS: My next step should be to load the design document into long-term memory and review it to understand the current status of the Unity Project. I will use the 'read_file' command to read the file and save the content to long-term memory.\r\nREASONING: I need to get an understanding of the current state of the Unity Project to determine what needs to be implemented next.\r\nPLAN:\r\n-  Read the design document using the 'read_file' command\r\n-  Save the content to long-term memory\r\n-  Review the content to determine the current state of the Unity Project\r\nCRITICISM: The plan is straightforward and efficient, but I should always be careful not to miss or misunderstand any information from the document.\r\nNEXT ACTION:  COMMAND = read_file ARGUMENTS = {'file': './designdocument.txt'}\r\nEnter 'y' to authorise command, 'y -N' to run N continuous commands, 'n' to exit program, or enter feedback for Unity-Dev-GPT...\r\nInput:y\r\n-=-=-=-=-=-=-= COMMAND AUTHORISED BY USER -=-=-=-=-=-=-=\r\nSYSTEM:  Command read_file returned: ...Long Design Document...\r\nToken limit: 4000\r\nMemory Stats:  (1, (1, 1536))\r\nToken limit: 4000\r\nSend Token Count: 961\r\nTokens remaining for response: 3039\r\n------------ CONTEXT SENT TO AI ---------------\r\nSystem: The current time and date is Sun Apr  9 14:13:55 2023\r\n\r\nSystem: This reminds you of these events from your past:\r\n[]\r\n\r\n\r\n\r\nUser: GENERATE NEXT COMMAND JSON\r\n\r\n----------- END OF CONTEXT ----------------\r\nWarning: Failed to parse AI output, attempting to fix.\r\n If you see this warning frequently, it's likely that your prompt is confusing the AI. Try changing it up slightly.\r\n------------ JSON FIX ATTEMPT ---------------\r\nOriginal JSON: ```json\r\nUnderstood. What would you like me to do next?\r\n```\r\n-----------\r\nFixed JSON: I'm sorry, but I cannot provide a valid `return` value without knowing the schema that the JSON string should comply with. Please provide the schema or more information about the expected format of the JSON.\r\n----------- END OF FIX ATTEMPT ----------------\r\nFailed to fix ai output, telling the AI.\r\nError: Invalid JSON\r\n Understood. What would you like me to do next?\r\nUNITY-DEV-GPT THOUGHTS:\r\nREASONING:\r\nCRITICISM:\r\nWarning: Failed to parse AI output, attempting to fix.\r\n If you see this warning frequently, it's likely that your prompt is confusing the AI. Try changing it up slightly.\r\n------------ JSON FIX ATTEMPT ---------------\r\nOriginal JSON: ```json\r\nUnderstood. What would you like me to do next?\r\n```\r\n-----------\r\nFixed JSON: I'm sorry, but I cannot provide a valid `return` value without knowing the schema that the JSON string should comply with. Please provide the schema or more information about the expected format of the JSON.\r\n----------- END OF FIX ATTEMPT ----------------\r\nFailed to fix ai output, telling the AI.\r\nNEXT ACTION:  COMMAND = Error: ARGUMENTS = Missing 'command' object in JSON\r\nEnter 'y' to authorise command, 'y -N' to run N continuous commands, 'n' to exit program, or enter feedback for Unity-Dev-GPT...\r\nInput:\r\n`````````\r\n\r\nI forgot to setup the docker redis, and after I did the error was the same, here is the console output with uneeded data removed:\r\n``````````\r\nF:\\AUTOGPT>call python ./scripts/main.py --gpt3only --debug\r\nGPT3.5 Only Mode:  ENABLED\r\nDebug Mode:  ENABLED\r\nWelcome back!  Would you like me to return to being Unity-Dev-GPT?\r\nContinue with the last settings?\r\nName:  Unity-Dev-GPT\r\nRole:  An AI designed to build Video Games, Libraries, Editor Extensions, and Packages for Unity LTS 2021.\r\nGoals: ['Load the design document file under `./designdocument.txt` into long term memory.', 'Find out the currently created files in the unity project under `./UnityProject/Assets`, then improve the code according to the design document, solving any issues or bugs found.', 'Find out what needs to be implemented next, then implement it, then do this step again until there is nothing left to implement.', 'Double check and make sure everything is implemented in the Unity Project Files from your understanding of the project, then refine and criticize the code making sure everything is in working order.', 'Shut Down.']\r\nContinue (y/n): y\r\nUsing memory of type: RedisMemory\r\nToken limit: 4000\r\nMemory Stats:  {'index_name': 'mypineconeindex', 'index_options': [], 'index_definition': [b'key_type', b'HASH', b'prefixes', [b'mypineconeindex:'], b'default_score', b'1'], 'attributes': [[b'identifier', b'data', b'attribute', b'data', b'type', b'TEXT', b'WEIGHT', b'1'], [b'identifier', b'embedding', b'attribute', b'embedding', b'type', b'VECTOR']], 'num_docs': '0', 'max_doc_id': '0', 'num_terms': '0', 'num_records': '0', 'inverted_sz_mb': '0', 'vector_index_sz_mb': '0', 'total_inverted_index_blocks': '0', 'offset_vectors_sz_mb': '0', 'doc_table_size_mb': '0', 'sortable_values_size_mb': '0', 'key_table_size_mb': '0', 'records_per_doc_avg': '-nan', 'bytes_per_record_avg': '-nan', 'offsets_per_term_avg': '-nan', 'offset_bits_per_record_avg': '-nan', 'hash_indexing_failures': '0', 'total_indexing_time': '0', 'indexing': '0', 'percent_indexed': '1', 'number_of_uses': 2, 'gc_stats': [b'bytes_collected', b'0', b'total_ms_run', b'0', b'total_cycles', b'0', b'average_cycle_time_ms', b'-nan', b'last_run_time_ms', b'0', b'gc_numeric_trees_missed', b'0', b'gc_blocks_denied', b'0'], 'cursor_stats': [b'global_idle', 0, b'global_total', 0, b'index_capacity', 128, b'index_total', 0], 'dialect_stats': [b'dialect_1', 0, b'dialect_2', 1, b'dialect_3', 0]}\r\nToken limit: 4000\r\nSend Token Count: 972\r\nTokens remaining for response: 3028\r\n------------ CONTEXT SENT TO AI ---------------\r\nSystem: The current time and date is Sun Apr  9 14:06:23 2023\r\n\r\nSystem: This reminds you of these events from your past:\r\n[]\r\n\r\n\r\n\r\nUser: Determine which next command to use, and respond using the format specified above:\r\n\r\n----------- END OF CONTEXT ----------------\r\nUNITY-DEV-GPT THOUGHTS: Let's start by loading the design document file into long term memory.\r\nREASONING: Before we can proceed to improve the Unity project, we need to have a full understanding of what the project design entails. Loading the design document into long term memory will allow us to draw upon this information anytime we need it.\r\nPLAN:\r\n-  Load the design document file under `./designdocument.txt` into long term memory.\r\nCRITICISM: I can improve on this by breaking down the design document into smaller, more manageable chunks that will be easier for me to load into long term memory.\r\nNEXT ACTION:  COMMAND = read_file ARGUMENTS = {'file': './designdocument.txt'}\r\nEnter 'y' to authorise command, 'y -N' to run N continuous commands, 'n' to exit program, or enter feedback for Unity-Dev-GPT...\r\nInput:y\r\n-=-=-=-=-=-=-= COMMAND AUTHORISED BY USER -=-=-=-=-=-=-=\r\nSYSTEM:  Command read_file returned: LONG DESIGN DOCUMENT TEXT HERE\r\nToken limit: 4000\r\nMemory Stats:  {'index_name': 'IsetTheIndexToMyPineconeIndex', 'index_options': [], 'index_definition': [b'key_type', b'HASH', b'prefixes', [b'IsetTheIndexToMyPineconeIndex:'], b'default_score', b'1'], 'attributes': [[b'identifier', b'data', b'attribute', b'data', b'type', b'TEXT', b'WEIGHT', b'1'], [b'identifier', b'embedding', b'attribute', b'embedding', b'type', b'VECTOR']], 'num_docs': '1', 'max_doc_id': '1', 'num_terms': '1325', 'num_records': '1326', 'inverted_sz_mb': '0.011920928955078125', 'vector_index_sz_mb': '6.1705780029296875', 'total_inverted_index_blocks': '1325', 'offset_vectors_sz_mb': '0.0056028366088867188', 'doc_table_size_mb': '0.00012302398681640625', 'sortable_values_size_mb': '0', 'key_table_size_mb': '2.765655517578125e-05', 'records_per_doc_avg': '1326', 'bytes_per_record_avg': '9.4268474578857422', 'offsets_per_term_avg': '2.8122172355651855', 'offset_bits_per_record_avg': '12.603915214538574', 'hash_indexing_failures': '0', 'total_indexing_time': '1.742', 'indexing': '0', 'percent_indexed': '1', 'number_of_uses': 4, 'gc_stats': [b'bytes_collected', b'0', b'total_ms_run', b'0', b'total_cycles', b'0', b'average_cycle_time_ms', b'-nan', b'last_run_time_ms', b'0', b'gc_numeric_trees_missed', b'0', b'gc_blocks_denied', b'0'], 'cursor_stats': [b'global_idle', 0, b'global_total', 0, b'index_capacity', 128, b'index_total', 0], 'dialect_stats': [b'dialect_1', 0, b'dialect_2', 1, b'dialect_3', 0]}\r\nToken limit: 4000\r\nSend Token Count: 961\r\nTokens remaining for response: 3039\r\n------------ CONTEXT SENT TO AI ---------------\r\nSystem: The current time and date is Sun Apr  9 14:06:56 2023\r\n\r\nSystem: This reminds you of these events from your past:\r\n[]\r\n\r\n\r\n\r\nUser: GENERATE NEXT COMMAND JSON\r\n\r\n----------- END OF CONTEXT ----------------\r\nWarning: Failed to parse AI output, attempting to fix.\r\n If you see this warning frequently, it's likely that your prompt is confusing the AI. Try changing it up slightly.\r\n------------ JSON FIX ATTEMPT ---------------\r\nOriginal JSON: ```json\r\nSure thing! What task would you like me to perform next?\r\n```\r\n-----------\r\nFixed JSON: I'm sorry, I don't see a task specified in your message. Please let me know what task you would like me to perform.\r\n----------- END OF FIX ATTEMPT ----------------\r\nFailed to fix ai output, telling the AI.\r\nError: Invalid JSON\r\n Sure thing! What task would you like me to perform next?\r\nUNITY-DEV-GPT THOUGHTS:\r\nREASONING:\r\nCRITICISM:\r\nWarning: Failed to parse AI output, attempting to fix.\r\n If you see this warning frequently, it's likely that your prompt is confusing the AI. Try changing it up slightly.\r\n------------ JSON FIX ATTEMPT ---------------\r\nOriginal JSON: ```json\r\nSure thing! What task would you like me to perform next?\r\n```\r\n-----------\r\nFixed JSON: I'm sorry, I don't see a task specified in your message. Please let me know what task you would like me to perform.\r\n----------- END OF FIX ATTEMPT ----------------\r\nFailed to fix ai output, telling the AI.\r\nNEXT ACTION:  COMMAND = Error: ARGUMENTS = Missing 'command' object in JSON\r\nEnter 'y' to authorise command, 'y -N' to run N continuous commands, 'n' to exit program, or enter feedback for Unity-Dev-GPT...\r\nInput:What is the title of the design document?\r\nSYSTEM:  Human feedback: What is the title of the design document?\r\nToken limit: 4000\r\nMemory Stats:  {'index_name': 'IsetTheIndexToMyPineconeIndex', 'index_options': [], 'index_definition': [b'key_type', b'HASH', b'prefixes', [b'IsetTheIndexToMyPineconeIndex:'], b'default_score', b'1'], 'attributes': [[b'identifier', b'data', b'attribute', b'data', b'type', b'TEXT', b'WEIGHT', b'1'], [b'identifier', b'embedding', b'attribute', b'embedding', b'type', b'VECTOR']], 'num_docs': '2', 'max_doc_id': '2', 'num_terms': '1330', 'num_records': '1348', 'inverted_sz_mb': '0.012048721313476562', 'vector_index_sz_mb': '6.1706771850585938', 'total_inverted_index_blocks': '1330', 'offset_vectors_sz_mb': '0.0056304931640625', 'doc_table_size_mb': '0.0002460479736328125', 'sortable_values_size_mb': '0', 'key_table_size_mb': '8.296966552734375e-05', 'records_per_doc_avg': '674', 'bytes_per_record_avg': '9.3724031448364258', 'offsets_per_term_avg': '2.7878339290618896', 'offset_bits_per_record_avg': '12.568387031555176', 'hash_indexing_failures': '0', 'total_indexing_time': '1.8500000000000001', 'indexing': '0', 'percent_indexed': '1', 'number_of_uses': 6, 'gc_stats': [b'bytes_collected', b'0', b'total_ms_run', b'0', b'total_cycles', b'0', b'average_cycle_time_ms', b'-nan', b'last_run_time_ms', b'0', b'gc_numeric_trees_missed', b'0', b'gc_blocks_denied', b'0'], 'cursor_stats': [b'global_idle', 0, b'global_total', 0, b'index_capacity', 128, b'index_total', 0], 'dialect_stats': [b'dialect_1', 0, b'dialect_2', 1, b'dialect_3', 0]}\r\nToken limit: 4000\r\nSend Token Count: 1066\r\nTokens remaining for response: 2934\r\n------------ CONTEXT SENT TO AI ---------------\r\nSystem: The current time and date is Sun Apr  9 14:07:16 2023\r\n\r\nSystem: This reminds you of these events from your past:\r\n['Assistant Reply: Sure thing! What task would you like me to perform next? \\nResult: Human feedback: What is the title of the design document? \\nHuman Feedback: What is the title of the design document? ']\r\n\r\n\r\n\r\nUser: GENERATE NEXT COMMAND JSON\r\n\r\nAssistant: Sure thing! What task would you like me to perform next?\r\n\r\nSystem: Human feedback: What is the title of the design document?\r\n\r\nUser: What is the title of the design document?\r\n\r\n----------- END OF CONTEXT ----------------\r\nWarning: Failed to parse AI output, attempting to fix.\r\n If you see this warning frequently, it's likely that your prompt is confusing the AI. Try changing it up slightly.\r\n------------ JSON FIX ATTEMPT ---------------\r\nOriginal JSON: ```json\r\nI'm sorry but I don't have this information in my memory. Would you be able to provide me with the title of the design document so that I can load it into my long term memory?\r\n```\r\n-----------\r\nFixed JSON: I apologize, but the provided code block appears to be a sample JSON object and not the design document for the `fix_json` function. Could you please provide me with the design document for the function?\r\n----------- END OF FIX ATTEMPT ----------------\r\nFailed to fix ai output, telling the AI.\r\nError: Invalid JSON\r\n I'm sorry but I don't have this information in my memory. Would you be able to provide me with the title of the design document so that I can load it into my long term memory?\r\nUNITY-DEV-GPT THOUGHTS:\r\nREASONING:\r\nCRITICISM:\r\nWarning: Failed to parse AI output, attempting to fix.\r\n If you see this warning frequently, it's likely that your prompt is confusing the AI. Try changing it up slightly.\r\n------------ JSON FIX ATTEMPT ---------------\r\nOriginal JSON: ```json\r\nI'm sorry but I don't have this information in my memory. Would you be able to provide me with the title of the design document so that I can load it into my long term memory?\r\n```\r\n-----------\r\nFixed JSON: I apologize, but the provided code block appears to be a JSON object and not the title of a design document. Please provide me with the correct information so that I can assist you better.\r\n----------- END OF FIX ATTEMPT ----------------\r\nFailed to fix ai output, telling the AI.\r\nNEXT ACTION:  COMMAND = Error: ARGUMENTS = Missing 'command' object in JSON\r\nEnter 'y' to authorise command, 'y -N' to run N continuous commands, 'n' to exit program, or enter feedback for Unity-Dev-GPT...\r\nInput:\r\n``````````\n\n### Expected behavior \ud83e\udd14\n\nThe bot should not read the file but just send it directly to memory as to not overflow the token limit, or if it should be able to do it even with large token files why is it not working?\n\n### Your prompt \ud83d\udcdd\n\n```yaml\r\nai_goals:\r\n- Load the design document file under `./designdocument.txt` into long term memory.\r\n- Find out the currently created files in the unity project under `./UnityProject/Assets`,\r\n  then improve the code according to the design document, solving any issues or bugs\r\n  found.\r\n- Find out what needs to be implemented next, then implement it, then do this step\r\n  again until there is nothing left to implement.\r\n- Double check and make sure everything is implemented in the Unity Project Files\r\n  from your understanding of the project, then refine and criticize the code making\r\n  sure everything is in working order.\r\n- Shut Down.\r\nai_name: Unity-Dev-GPT\r\nai_role: An AI designed to build Video Games, Libraries, Editor Extensions, and Packages\r\n  for Unity LTS 2021.\r\n```", "reactions": {"url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/623/reactions", "total_count": 2, "+1": 2, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/623/timeline", "performed_via_github_app": null, "state_reason": null}