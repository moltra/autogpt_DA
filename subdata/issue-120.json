{"url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/3421", "repository_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT", "labels_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/3421/labels{/name}", "comments_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/3421/comments", "events_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/3421/events", "html_url": "https://github.com/Significant-Gravitas/Auto-GPT/issues/3421", "id": 1687332369, "node_id": "I_kwDOJKSTjM5kkqYR", "number": 3421, "title": "Issues with the image generation and a bunch other want it autonomous for stable diffusion and dalle or just dalle for now", "user": {"login": "TheMindExpansionNetwork", "id": 77267159, "node_id": "MDQ6VXNlcjc3MjY3MTU5", "avatar_url": "https://avatars.githubusercontent.com/u/77267159?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TheMindExpansionNetwork", "html_url": "https://github.com/TheMindExpansionNetwork", "followers_url": "https://api.github.com/users/TheMindExpansionNetwork/followers", "following_url": "https://api.github.com/users/TheMindExpansionNetwork/following{/other_user}", "gists_url": "https://api.github.com/users/TheMindExpansionNetwork/gists{/gist_id}", "starred_url": "https://api.github.com/users/TheMindExpansionNetwork/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TheMindExpansionNetwork/subscriptions", "organizations_url": "https://api.github.com/users/TheMindExpansionNetwork/orgs", "repos_url": "https://api.github.com/users/TheMindExpansionNetwork/repos", "events_url": "https://api.github.com/users/TheMindExpansionNetwork/events{/privacy}", "received_events_url": "https://api.github.com/users/TheMindExpansionNetwork/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2023-04-27T18:04:26Z", "updated_at": "2023-04-27T18:58:14Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "### \u26a0\ufe0f Search for existing issues first \u26a0\ufe0f\n\n- [X] I have searched the existing issues, and there is no existing issue for my problem\n\n### Which Operating System are you using?\n\nWindows\n\n### Which version of Auto-GPT are you using?\n\nLatest Release\n\n### GPT-3 or GPT-4?\n\nGPT-3.5\n\n### Steps to reproduce \ud83d\udd79\n\nI attempted to restore the template.env with my open token all others including hugging face get this issue\r\n\r\nprob a bunch more just cant get my head around it want to be able to generate images autonomously for a project  I want to research \n\n### Current behavior \ud83d\ude2f\n\nI get all these errors my script \r\n\r\nMicrosoft Windows [Version 10.0.19044.2846]\r\n(c) Microsoft Corporation. All rights reserved.\r\n\r\nC:\\Users\\WeThe\\Documents\\AUTOGPT\\Auto-GPT-0.2.2>python test.py\r\npython: can't open file 'C:\\\\Users\\\\WeThe\\\\Documents\\\\AUTOGPT\\\\Auto-GPT-0.2.2\\\\test.py': [Errno 2] No such file or directory\r\n\r\nC:\\Users\\WeThe\\Documents\\AUTOGPT\\Auto-GPT-0.2.2>python C:\\Users\\WeThe\\Documents\\AUTOGPT\\Auto-GPT-0.2.2\\tests.py\r\nPython-dotenv could not parse statement starting at line 164\r\n.........EE.json I will first need to browse the repository (https://github.com/Torantulino/Auto-GPT) and identify any potential bugs that need fixing. I will use the \"browse_website\" command for this.\r\n\r\n{\r\n    \"command\": {\r\n        \"name\": \"browse_website\",\r\n        \"args\":{\r\n            \"url\": \"https://github.com/Torantulino/Auto-GPT\"\r\n        }\r\n    },\r\n    \"thoughts\":\r\n    {\r\n        \"text\": \"Browsing the repository to identify potential bugs\",\r\n        \"reasoning\": \"Before fixing bugs, I need to identify what needs fixing. I will use the 'browse_website' command to analyze the repository.\",\r\n        \"plan\": \"- Analyze the repository for potential bugs and areas of improvement\",\r\n        \"criticism\": \"I need to ensure I am thorough and pay attention to detail while browsing the repository.\",\r\n        \"speak\": \"I am browsing the repository to identify potential bugs.\"\r\n    }\r\n}\r\njson loads error Expecting value: line 1 column 1 (char 0)\r\n.json BEGIN: \"name\": \"John\" - \"age\": 30 - \"city\": \"New York\" :END\r\njson loads error Expecting value: line 1 column 1 (char 0)\r\n.json BEGIN: \"name\": \"John\" - \"age\": 30 - \"city\": \"New York\" :END\r\njson loads error Expecting value: line 1 column 1 (char 0)\r\n.json {\"name\": \"John\", \"age\": 30, \"city\": \"New York\",}\r\njson loads error Expecting property name enclosed in double quotes: line 1 column 48 (char 47)\r\n.......... \u2190[0m Warning: model not found. Using cl100k_base encoding.\r\n.....\r\n======================================================================\r\nERROR: test_dalle (test_image_gen.TestImageGen)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\WeThe\\Documents\\AUTOGPT\\Auto-GPT-0.2.2\\tests\\test_image_gen.py\", line 25, in test_dalle\r\n    result = lst(generate_image(\"astronaut riding a horse\", 256))\r\n  File \"C:\\Users\\WeThe\\Documents\\AUTOGPT\\Auto-GPT-0.2.2\\autogpt\\commands\\image_gen.py\", line 31, in generate_image\r\n    return generate_image_with_dalle(prompt, filename, size)\r\nTypeError: generate_image_with_dalle() takes 2 positional arguments but 3 were given\r\n\r\n======================================================================\r\nERROR: test_huggingface (test_image_gen.TestImageGen)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\WeThe\\Documents\\AUTOGPT\\Auto-GPT-0.2.2\\tests\\test_image_gen.py\", line 44, in test_huggingface\r\n    result = lst(generate_image(\"astronaut riding a horse\", 512))\r\n  File \"C:\\Users\\WeThe\\Documents\\AUTOGPT\\Auto-GPT-0.2.2\\autogpt\\commands\\image_gen.py\", line 34, in generate_image\r\n    return generate_image_with_hf(prompt, filename)\r\n  File \"C:\\Users\\WeThe\\Documents\\AUTOGPT\\Auto-GPT-0.2.2\\autogpt\\commands\\image_gen.py\", line 55, in generate_image_with_hf\r\n    raise ValueError(\r\nValueError: You need to set your Hugging Face API token in the config file.\r\n\r\n----------------------------------------------------------------------\r\nRan 30 tests in 0.388s\r\n\r\nFAILED (errors=2)\r\nName                                     Stmts   Miss  Cover   Missing\r\n----------------------------------------------------------------------\r\nautogpt\\__init__.py                          0      0   100%\r\nautogpt\\commands\\__init__.py                 0      0   100%\r\nautogpt\\commands\\image_gen.py               53     31    42%   36-38, 58-76, 89-113, 134-163\r\nautogpt\\config\\__init__.py                   4      0   100%\r\nautogpt\\config\\ai_config.py                 36     24    33%   36-40, 60-70, 84-90, 104-121\r\nautogpt\\config\\config.py                   133     35    74%   50-53, 136-149, 164-174, 182, 206, 210, 214, 218, 222, 226, 230, 234, 238, 247-254\r\nautogpt\\config\\singleton.py                  9      0   100%\r\nautogpt\\json_utils\\__init__.py               0      0   100%\r\nautogpt\\json_utils\\json_fix_general.py      66     28    58%   27-39, 57-58, 61-62, 66, 81, 88, 104, 110, 115-121, 123\r\nautogpt\\json_utils\\json_fix_llm.py          85     51    40%   51-82, 96-112, 171-186, 190-220\r\nautogpt\\json_utils\\utilities.py             25     17    32%   24-28, 37-54\r\nautogpt\\llm_utils.py                        71     58    18%   35-50, 72-138, 143-172\r\nautogpt\\logs.py                            190    114    40%   31, 84-93, 103, 114, 119, 123-124, 127-135, 145-162, 170-171, 189, 193, 207-294, 300-332\r\nautogpt\\promptgenerator.py                  32      1    97%   54\r\nautogpt\\speech\\__init__.py                   2      0   100%\r\nautogpt\\speech\\base.py                      20      4    80%   32-33, 40, 50\r\nautogpt\\speech\\brian.py                     19     12    37%   15, 26-40\r\nautogpt\\speech\\eleven_labs.py               34     24    29%   23-46, 59-60, 72-86\r\nautogpt\\speech\\gtts.py                      13      5    62%   18-22\r\nautogpt\\speech\\macos_tts.py                 12      7    42%   11, 15-21\r\nautogpt\\speech\\say.py                       27     11    59%   15, 17, 19, 32-41\r\nautogpt\\token_counter.py                    32      2    94%   32, 35\r\nautogpt\\workspace.py                        16      7    56%   15, 27, 40-48\r\ntests\\__init__.py                            0      0   100%\r\ntests\\context.py                             3      0   100%\r\ntests\\test_config.py                        37      0   100%\r\ntests\\test_image_gen.py                     46     23    50%   13, 26-37, 45-57, 102\r\ntests\\test_json_parser.py                   30      4    87%   35-67, 111\r\ntests\\test_prompt_generator.py              54      0   100%\r\ntests\\test_token_counter.py                 33      4    88%   26-31, 63\r\n----------------------------------------------------------------------\r\nTOTAL                                     1082    462    57%\r\n\r\nC:\\Users\\WeThe\\Documents\\AUTOGPT\\Auto-GPT-0.2.2>\r\n\r\n\r\nIt does not generate says image provider not set\r\n\r\n################################################################################\r\n### IMAGE GENERATION PROVIDER\r\n################################################################################\r\n\r\n### OPEN AI\r\n## IMAGE_PROVIDER - Image provider (Example: dalle)\r\n## IMAGE_SIZE - Image size (Example: 256)\r\n##   DALLE: 256, 512, 1024\r\n# IMAGE_PROVIDER=dalle\r\n# IMAGE_SIZE=256\r\n\r\n### HUGGINGFACE\r\n## HUGGINGFACE_IMAGE_MODEL - Text-to-image model from Huggingface (Default: CompVis/stable-diffusion-v1-4)\r\n## HUGGINGFACE_API_TOKEN - HuggingFace API token (Example: my-huggingface-api-token)\r\n# HUGGINGFACE_IMAGE_MODEL=CompVis/stable-diffusion-v1-4\r\n# HUGGINGFACE_API_TOKEN=blocked\r\n### STABLE DIFFUSION WEBUI\r\n## SD_WEBUI_AUTH - Stable diffusion webui username:password pair (Example: username:password)\r\n## SD_WEBUI_URL - Stable diffusion webui API URL (Example: blocked\r\n# SD_WEBUI_AUTH=\r\n# SD_WEBUI_URL=blocked\r\n\r\nblocked sensitive information\n\n### Expected behavior \ud83e\udd14\n\nAutonomously will generate images via daily and stable diffusion image generation not working know its short just running out of my free time and want to get this rolling to optimize my life\n\n### Your prompt \ud83d\udcdd\n\n```yaml\r\n# Paste your prompt here\r\n```\r\nNot really this got that covered\n\n### Your Logs \ud83d\udcd2\n\n```log\r\n<insert your logs here>\r\n```\r\n]\r\n2023-04-27 10:49:29,114 INFO  THOUGHTS: Based on the search results, it seems that the metaverse market is experiencing exciting growth, with its total size expected to reach $678.8bn by the end of 2030. This growth is driven by the increasing popularity of virtual reality (VR) and augmented reality (AR) technologies, as well as the emergence of new content, applications, and services. To cater to this growing market, we should create AI-generated art that is immersive and visually stunning. We can use the 'generate_image' command to create such art pieces.\r\n2023-04-27 10:49:29,821 INFO REASONING: Creating visually stunning and immersive AI-generated art is likely to appeal to the growing metaverse market, which is driven by the increasing popularity of VR and AR technologies. By using the 'generate_image' command, we can create art pieces that are tailored to this market and maximize our income generation potential.\r\n2023-04-27 10:49:30,407 INFO PLAN: \r\n2023-04-27 10:49:30,503 INFO -  Use the 'generate_image' command to create visually stunning and immersive AI-generated art pieces\\n- Continuously analyze the market trends to ensure that our art pieces are in demand\\n- Actively promote our art pieces on various metaverse platforms to attract potential buyers\\n- Develop and maintain an engaging live streaming platform to showcase the art creation process in real-time and encourage viewer interaction\r\n2023-04-27 10:49:31,158 INFO CRITICISM: I need to make sure that the art pieces we create are not only visually stunning but also unique and original. Additionally, I need to ensure that we are not oversaturating the market with too many similar art pieces.\r\n2023-04-27 10:49:31,704 INFO NEXT ACTION:  COMMAND = generate_image  ARGUMENTS = {'prompt': 'Create a visually stunning and immersive AI-generated art piece that is tailored to the growing metaverse market.'}\r\n2023-04-27 10:50:19,314 INFO SYSTEM:  Human feedback: I need you to test if you can generate dalle photos then deposit into a folder in workspace\r\n2023-04-27 10:50:55,456 INFO  THOUGHTS: To test if I can generate DALL-E photos and deposit them into a folder in workspace, I can use the 'generate_image' command to create a DALL-E image and then use the 'write_to_file' command to save the image to a specified folder in workspace.\r\n2023-04-27 10:50:55,991 INFO REASONING: By using the 'generate_image' command to create a DALL-E image and then using the 'write_to_file' command to save the image to a specified folder in workspace, I can test if I am able to generate DALL-E photos and deposit them into a folder in workspace.\r\n2023-04-27 10:50:56,543 INFO PLAN: \r\n2023-04-27 10:50:56,608 INFO -  Use the 'generate_image' command to create a DALL-E image\\n- Use the 'write_to_file' command to save the image to a specified folder in workspace\\n- Check if the image was successfully saved to the specified folder in workspace\r\n2023-04-27 10:50:57,122 INFO CRITICISM: I need to make sure that the folder in workspace where the image is being saved exists and that I have the necessary permissions to write to that folder.\r\n2023-04-27 10:50:57,669 INFO NEXT ACTION:  COMMAND = generate_image  ARGUMENTS = {'prompt': 'Create a DALL-E image to test if I can generate DALL-E photos and deposit them into a folder in workspace.'}\r\n2023-04-27 10:51:08,064 INFO -=-=-=-=-=-=-= COMMAND AUTHORISED BY USER -=-=-=-=-=-=-= \r\n2023-04-27 10:51:08,643 INFO SYSTEM:  Command generate_image returned: No Image Provider Set\r\n2023-04-27 10:51:45,548 INFO  THOUGHTS: It seems that no image provider has been set for the 'generate_image' command. I can set the image provider by using the 'message_agent' command to send a message to a GPT agent that can set the image provider for me.\r\n2023-04-27 10:51:46,172 INFO REASONING: By using the 'message_agent' command to send a message to a GPT agent that can set the image provider for me, I can ensure that the 'generate_image' command will work properly and I can proceed with testing if I am able to generate DALL-E photos and deposit them into a folder in workspace.\r\n2023-04-27 10:51:46,718 INFO PLAN: \r\n2023-04-27 10:51:46,784 INFO -  Use the 'message_agent' command to send a message to a GPT agent that can set the image provider for me\\n- Use the 'generate_image' command to create a DALL-E image\\n- Use the 'write_to_file' command to save the image to a specified folder in workspace\\n- Check if the image was successfully saved to the specified folder in workspace\r\n2023-04-27 10:51:47,441 INFO CRITICISM: I need to make sure that the GPT agent I am sending a message to is able to set the image provider for me and that the image provider is set correctly.\r\n2023-04-27 10:51:48,004 INFO NEXT ACTION:  COMMAND = message_agent  ARGUMENTS = {'key': 'image_provider_agent', 'message': \"Please set the image provider for the 'generate_image' command.\"}\r\n2023-04-27 10:57:52,390 WARNING  Warning: model not found. Using cl100k_base encoding.", "reactions": {"url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/3421/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/3421/timeline", "performed_via_github_app": null, "state_reason": null}