{"url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/2250", "repository_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT", "labels_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/2250/labels{/name}", "comments_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/2250/comments", "events_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/2250/events", "html_url": "https://github.com/Significant-Gravitas/Auto-GPT/pull/2250", "id": 1672006260, "node_id": "PR_kwDOJKSTjM5OhXe1", "number": 2250, "title": "Use redis image \"redis-stack\" + rename redis host in docker-compose.yml", "user": {"login": "mrjdomingus", "id": 12103128, "node_id": "MDQ6VXNlcjEyMTAzMTI4", "avatar_url": "https://avatars.githubusercontent.com/u/12103128?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrjdomingus", "html_url": "https://github.com/mrjdomingus", "followers_url": "https://api.github.com/users/mrjdomingus/followers", "following_url": "https://api.github.com/users/mrjdomingus/following{/other_user}", "gists_url": "https://api.github.com/users/mrjdomingus/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrjdomingus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrjdomingus/subscriptions", "organizations_url": "https://api.github.com/users/mrjdomingus/orgs", "repos_url": "https://api.github.com/users/mrjdomingus/repos", "events_url": "https://api.github.com/users/mrjdomingus/events{/privacy}", "received_events_url": "https://api.github.com/users/mrjdomingus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 5399324094, "node_id": "LA_kwDOJKSTjM8AAAABQdMlvg", "url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/labels/B8", "name": "B8", "color": "A54E7C", "default": false, "description": ""}, {"id": 5405679248, "node_id": "LA_kwDOJKSTjM8AAAABQjQekA", "url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/labels/docker", "name": "docker", "color": "5152EA", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-04-17T21:36:56Z", "updated_at": "2023-04-22T23:26:07Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/pulls/2250", "html_url": "https://github.com/Significant-Gravitas/Auto-GPT/pull/2250", "diff_url": "https://github.com/Significant-Gravitas/Auto-GPT/pull/2250.diff", "patch_url": "https://github.com/Significant-Gravitas/Auto-GPT/pull/2250.patch", "merged_at": null}, "body": "### Background\r\nThe curent Docker setup as programmed in `Dockerfile` and `docker-compose.yml` lacks consistency as the `Dockerfile` copies the `autogpt` package to the home directory of appuser, whereas the `docker-compose.yml` assumes that the application will be located in the `/app` folder.\r\n\r\nAlso 'duplication' of the application will occur in the container as the built container will have a copy in `/home/appuser` as a result of the build process and trough a bind mount the application will also appear to be located in the `/app` folder of the container at runtime.\r\n\r\n\r\n### Changes\r\n* ~~The full repo (not only the autogpt package directory) is now copied to folder `/app` in the container, separating the app from the home directory and reducing the risk of clobbering the home directory by Auto-GPT runs.~~\r\n* ~~Made bind mount of the repo on the host into the container optional by commenting out the **volumes** directive in `docker-compose.yml`.~~\r\n* ~~Running the auto-gpt container will now take you to the `/app` folder (instead of possible the home directory), reducing the risk of the autogpt not being found by Python.~~\r\n* I have replaced the Redis image: \"redis/redis-stack-server:latest\" with Redis image \"redis-stack\"  as it also includes [RedInsight](https://redis.com/redis-enterprise/redis-insight/) which is useful for debugging the Redis cache content.\r\n\r\n### Documentation\r\n* Changes are documented by inline comments.\r\n\r\n### Test Plan\r\nI have tested with several fresh builds of the `redis` container and `auto-gpt` container and trying several agent scenarios.\r\n\r\n### PR Quality Checklist\r\n- [X ] My pull request is atomic and focuses on a single change.\r\n- [X] I have thoroughly tested my changes with multiple different prompts.\r\n- [X] I have considered potential risks and mitigations for my changes.\r\n- [X] I have documented my changes clearly and comprehensively.\r\n- [X] I have not snuck in any \"extra\" small tweaks changes \r\n\r\n\r\n\r\n", "reactions": {"url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/2250/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/2250/timeline", "performed_via_github_app": null, "state_reason": null}