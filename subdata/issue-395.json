{"url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/1943", "repository_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT", "labels_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/1943/labels{/name}", "comments_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/1943/comments", "events_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/1943/events", "html_url": "https://github.com/Significant-Gravitas/Auto-GPT/issues/1943", "id": 1670043186, "node_id": "I_kwDOJKSTjM5jitYy", "number": 1943, "title": "Redis Memory Issue (FT.INFO not found after multiple reinstalls and creating new servers/cleaning the ports.)", "user": {"login": "pjoneswv", "id": 97735782, "node_id": "U_kgDOBdNUZg", "avatar_url": "https://avatars.githubusercontent.com/u/97735782?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pjoneswv", "html_url": "https://github.com/pjoneswv", "followers_url": "https://api.github.com/users/pjoneswv/followers", "following_url": "https://api.github.com/users/pjoneswv/following{/other_user}", "gists_url": "https://api.github.com/users/pjoneswv/gists{/gist_id}", "starred_url": "https://api.github.com/users/pjoneswv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pjoneswv/subscriptions", "organizations_url": "https://api.github.com/users/pjoneswv/orgs", "repos_url": "https://api.github.com/users/pjoneswv/repos", "events_url": "https://api.github.com/users/pjoneswv/events{/privacy}", "received_events_url": "https://api.github.com/users/pjoneswv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 5272676193, "node_id": "LA_kwDOJKSTjM8AAAABOkanYQ", "url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/labels/bug", "name": "bug", "color": "d73a4a", "default": true, "description": "Something isn't working"}, {"id": 5401552627, "node_id": "LA_kwDOJKSTjM8AAAABQfUm8w", "url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/labels/needs%20investigation", "name": "needs investigation", "color": "C3708F", "default": false, "description": ""}, {"id": 5409160395, "node_id": "LA_kwDOJKSTjM8AAAABQmk8yw", "url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/labels/function:%20memory", "name": "function: memory", "color": "E12F75", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2023-04-16T16:50:42Z", "updated_at": "2023-04-23T03:46:39Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "### Duplicates\n\n- [X] I have searched the existing issues\n\n### Steps to reproduce \ud83d\udd79\n\nPlease note that this was based on the stable branch.\r\n\r\nInstalling docker, then creating a server in Redis. I had to remove the password because none of the commands were working, it wouldn't initiate the bot.\r\n\r\nEach time Redis was reinstalled, updated or a new server was created, I would get the same error as listed below.\r\n\r\nError creating Redis search index:  unknown command 'FT.CREATE', with args beginning with: 'auto-gpt' 'ON' 'HASH' 'PREFIX' '1' 'auto-gpt:' 'SCORE' '1.0' 'SCHEMA' 'data' 'TEXT' 'WEIGHT' '1.0' 'embedding' 'VECTOR' 'HNSW' \r\nWelcome to Auto-GPT!  Enter the name of your AI and its role below. Entering nothing will load defaults.\r\nName your AI:  For example, 'Entrepreneur-GPT'\r\nAI Name: t\r\nt here!  I am at your service.\r\nDescribe your AI's role: t For example, 'an AI designed to autonomously develop and run businesses with the sole goal of increasing your net worth.'\r\nt is: \r\nEnter up to 5 goals for your AI: t For example: Increase net worth, Grow Twitter Account, Develop and manage multiple businesses autonomously'\r\nEnter nothing to load defaults, enter nothing when finished.\r\nGoal 1: \r\nGoal 2: \r\nUsing memory of type:  RedisMemory\r\nUsing Browser:  chrome\r\n- Thinking... \r\nTraceback (most recent call last):\r\n  File \"/Users/pauljones/opt/anaconda3/lib/python3.9/runpy.py\", line 197, in _run_module_as_main\r\n    return _run_code(code, main_globals, None,\r\n  File \"/Users/pauljones/opt/anaconda3/lib/python3.9/runpy.py\", line 87, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/Users/pauljones/Auto-GPT/autogpt/__main__.py\", line 53, in <module>\r\n    main()\r\n  File \"/Users/pauljones/Auto-GPT/autogpt/__main__.py\", line 49, in main\r\n    agent.start_interaction_loop()\r\n  File \"/Users/pauljones/Auto-GPT/autogpt/agent/agent.py\", line 65, in start_interaction_loop\r\n    assistant_reply = chat_with_ai(\r\n  File \"/Users/pauljones/Auto-GPT/autogpt/chat.py\", line 88, in chat_with_ai\r\n    logger.debug(f\"Memory Stats: {permanent_memory.get_stats()}\")\r\n  File \"/Users/pauljones/Auto-GPT/autogpt/memory/redismem.py\", line 154, in get_stats\r\n    return self.redis.ft(f\"{self.cfg.memory_index}\").info()\r\n  File \"/Users/pauljones/opt/anaconda3/lib/python3.9/site-packages/redis/commands/search/commands.py\", line 370, in info\r\n    res = self.execute_command(INFO_CMD, self.index_name)\r\n  File \"/Users/pauljones/opt/anaconda3/lib/python3.9/site-packages/redis/client.py\", line 1258, in execute_command\r\n    return conn.retry.call_with_retry(\r\n  File \"/Users/pauljones/opt/anaconda3/lib/python3.9/site-packages/redis/retry.py\", line 46, in call_with_retry\r\n    return do()\r\n  File \"/Users/pauljones/opt/anaconda3/lib/python3.9/site-packages/redis/client.py\", line 1259, in <lambda>\r\n    lambda: self._send_command_parse_response(\r\n  File \"/Users/pauljones/opt/anaconda3/lib/python3.9/site-packages/redis/client.py\", line 1235, in _send_command_parse_response\r\n    return self.parse_response(conn, command_name, **options)\r\n  File \"/Users/pauljones/opt/anaconda3/lib/python3.9/site-packages/redis/client.py\", line 1275, in parse_response\r\n    response = connection.read_response()\r\n  File \"/Users/pauljones/opt/anaconda3/lib/python3.9/site-packages/redis/connection.py\", line 882, in read_response\r\n    raise response\r\nredis.exceptions.ResponseError: unknown command 'FT.INFO', with args beginning with: 'auto-gpt' \r\n\n\n### Current behavior \ud83d\ude2f\n\nEach time is says FT.INFO not found before asking for a bot name. After putting in the goals this happens.\r\n\r\nError creating Redis search index:  unknown command 'FT.CREATE', with args beginning with: 'auto-gpt' 'ON' 'HASH' 'PREFIX' '1' 'auto-gpt:' 'SCORE' '1.0' 'SCHEMA' 'data' 'TEXT' 'WEIGHT' '1.0' 'embedding' 'VECTOR' 'HNSW' \r\nWelcome to Auto-GPT!  Enter the name of your AI and its role below. Entering nothing will load defaults.\r\nName your AI:  For example, 'Entrepreneur-GPT'\r\nAI Name: t\r\nt here!  I am at your service.\r\nDescribe your AI's role: t For example, 'an AI designed to autonomously develop and run businesses with the sole goal of increasing your net worth.'\r\nt is: \r\nEnter up to 5 goals for your AI: t For example: Increase net worth, Grow Twitter Account, Develop and manage multiple businesses autonomously'\r\nEnter nothing to load defaults, enter nothing when finished.\r\nGoal 1: \r\nGoal 2: \r\nUsing memory of type:  RedisMemory\r\nUsing Browser:  chrome\r\n- Thinking... \r\nTraceback (most recent call last):\r\n  File \"/Users/pauljones/opt/anaconda3/lib/python3.9/runpy.py\", line 197, in _run_module_as_main\r\n    return _run_code(code, main_globals, None,\r\n  File \"/Users/pauljones/opt/anaconda3/lib/python3.9/runpy.py\", line 87, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/Users/pauljones/Auto-GPT/autogpt/__main__.py\", line 53, in <module>\r\n    main()\r\n  File \"/Users/pauljones/Auto-GPT/autogpt/__main__.py\", line 49, in main\r\n    agent.start_interaction_loop()\r\n  File \"/Users/pauljones/Auto-GPT/autogpt/agent/agent.py\", line 65, in start_interaction_loop\r\n    assistant_reply = chat_with_ai(\r\n  File \"/Users/pauljones/Auto-GPT/autogpt/chat.py\", line 88, in chat_with_ai\r\n    logger.debug(f\"Memory Stats: {permanent_memory.get_stats()}\")\r\n  File \"/Users/pauljones/Auto-GPT/autogpt/memory/redismem.py\", line 154, in get_stats\r\n    return self.redis.ft(f\"{self.cfg.memory_index}\").info()\r\n  File \"/Users/pauljones/opt/anaconda3/lib/python3.9/site-packages/redis/commands/search/commands.py\", line 370, in info\r\n    res = self.execute_command(INFO_CMD, self.index_name)\r\n  File \"/Users/pauljones/opt/anaconda3/lib/python3.9/site-packages/redis/client.py\", line 1258, in execute_command\r\n    return conn.retry.call_with_retry(\r\n  File \"/Users/pauljones/opt/anaconda3/lib/python3.9/site-packages/redis/retry.py\", line 46, in call_with_retry\r\n    return do()\r\n  File \"/Users/pauljones/opt/anaconda3/lib/python3.9/site-packages/redis/client.py\", line 1259, in <lambda>\r\n    lambda: self._send_command_parse_response(\r\n  File \"/Users/pauljones/opt/anaconda3/lib/python3.9/site-packages/redis/client.py\", line 1235, in _send_command_parse_response\r\n    return self.parse_response(conn, command_name, **options)\r\n  File \"/Users/pauljones/opt/anaconda3/lib/python3.9/site-packages/redis/client.py\", line 1275, in parse_response\r\n    response = connection.read_response()\r\n  File \"/Users/pauljones/opt/anaconda3/lib/python3.9/site-packages/redis/connection.py\", line 882, in read_response\r\n    raise response\r\nredis.exceptions.ResponseError: unknown command 'FT.INFO', with args beginning with: 'auto-gpt' \r\n\n\n### Expected behavior \ud83e\udd14\n\nThe bot should start working, instead it stops and goes back to the cd. \n\n### Your prompt \ud83d\udcdd\n\n```yaml\r\n# Paste your prompt here\r\n```\r\nError creating Redis search index:  unknown command 'FT.CREATE', with args beginning with: 'auto-gpt' 'ON' 'HASH' 'PREFIX' '1' 'auto-gpt:' 'SCORE' '1.0' 'SCHEMA' 'data' 'TEXT' 'WEIGHT' '1.0' 'embedding' 'VECTOR' 'HNSW' \r\nWelcome to Auto-GPT!  Enter the name of your AI and its role below. Entering nothing will load defaults.\r\nName your AI:  For example, 'Entrepreneur-GPT'\r\nAI Name: t\r\nt here!  I am at your service.\r\nDescribe your AI's role: t For example, 'an AI designed to autonomously develop and run businesses with the sole goal of increasing your net worth.'\r\nt is: \r\nEnter up to 5 goals for your AI: t For example: Increase net worth, Grow Twitter Account, Develop and manage multiple businesses autonomously'\r\nEnter nothing to load defaults, enter nothing when finished.\r\nGoal 1: \r\nGoal 2: \r\nUsing memory of type:  RedisMemory\r\nUsing Browser:  chrome\r\n- Thinking... \r\nTraceback (most recent call last):\r\n  File \"/Users/pauljones/opt/anaconda3/lib/python3.9/runpy.py\", line 197, in _run_module_as_main\r\n    return _run_code(code, main_globals, None,\r\n  File \"/Users/pauljones/opt/anaconda3/lib/python3.9/runpy.py\", line 87, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/Users/pauljones/Auto-GPT/autogpt/__main__.py\", line 53, in <module>\r\n    main()\r\n  File \"/Users/pauljones/Auto-GPT/autogpt/__main__.py\", line 49, in main\r\n    agent.start_interaction_loop()\r\n  File \"/Users/pauljones/Auto-GPT/autogpt/agent/agent.py\", line 65, in start_interaction_loop\r\n    assistant_reply = chat_with_ai(\r\n  File \"/Users/pauljones/Auto-GPT/autogpt/chat.py\", line 88, in chat_with_ai\r\n    logger.debug(f\"Memory Stats: {permanent_memory.get_stats()}\")\r\n  File \"/Users/pauljones/Auto-GPT/autogpt/memory/redismem.py\", line 154, in get_stats\r\n    return self.redis.ft(f\"{self.cfg.memory_index}\").info()\r\n  File \"/Users/pauljones/opt/anaconda3/lib/python3.9/site-packages/redis/commands/search/commands.py\", line 370, in info\r\n    res = self.execute_command(INFO_CMD, self.index_name)\r\n  File \"/Users/pauljones/opt/anaconda3/lib/python3.9/site-packages/redis/client.py\", line 1258, in execute_command\r\n    return conn.retry.call_with_retry(\r\n  File \"/Users/pauljones/opt/anaconda3/lib/python3.9/site-packages/redis/retry.py\", line 46, in call_with_retry\r\n    return do()\r\n  File \"/Users/pauljones/opt/anaconda3/lib/python3.9/site-packages/redis/client.py\", line 1259, in <lambda>\r\n    lambda: self._send_command_parse_response(\r\n  File \"/Users/pauljones/opt/anaconda3/lib/python3.9/site-packages/redis/client.py\", line 1235, in _send_command_parse_response\r\n    return self.parse_response(conn, command_name, **options)\r\n  File \"/Users/pauljones/opt/anaconda3/lib/python3.9/site-packages/redis/client.py\", line 1275, in parse_response\r\n    response = connection.read_response()\r\n  File \"/Users/pauljones/opt/anaconda3/lib/python3.9/site-packages/redis/connection.py\", line 882, in read_response\r\n    raise response\r\nredis.exceptions.ResponseError: unknown command 'FT.INFO', with args beginning with: 'auto-gpt' \r\n", "reactions": {"url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/1943/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/1943/timeline", "performed_via_github_app": null, "state_reason": null}