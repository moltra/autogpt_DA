{"url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/3052", "repository_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT", "labels_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/3052/labels{/name}", "comments_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/3052/comments", "events_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/3052/events", "html_url": "https://github.com/Significant-Gravitas/Auto-GPT/issues/3052", "id": 1680142144, "node_id": "I_kwDOJKSTjM5kJO9A", "number": 3052, "title": "when running on Kali linux will get error: 'NoneType' object has no attribute 'get'", "user": {"login": "r4zmuz", "id": 64433489, "node_id": "MDQ6VXNlcjY0NDMzNDg5", "avatar_url": "https://avatars.githubusercontent.com/u/64433489?v=4", "gravatar_id": "", "url": "https://api.github.com/users/r4zmuz", "html_url": "https://github.com/r4zmuz", "followers_url": "https://api.github.com/users/r4zmuz/followers", "following_url": "https://api.github.com/users/r4zmuz/following{/other_user}", "gists_url": "https://api.github.com/users/r4zmuz/gists{/gist_id}", "starred_url": "https://api.github.com/users/r4zmuz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/r4zmuz/subscriptions", "organizations_url": "https://api.github.com/users/r4zmuz/orgs", "repos_url": "https://api.github.com/users/r4zmuz/repos", "events_url": "https://api.github.com/users/r4zmuz/events{/privacy}", "received_events_url": "https://api.github.com/users/r4zmuz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 5347563882, "node_id": "LA_kwDOJKSTjM8AAAABPr1Zag", "url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/labels/setup", "name": "setup", "color": "E1BC6F", "default": false, "description": "Issues with getting Auto-GPT setup on local machines"}, {"id": 5401552627, "node_id": "LA_kwDOJKSTjM8AAAABQfUm8w", "url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/labels/needs%20investigation", "name": "needs investigation", "color": "C3708F", "default": false, "description": ""}, {"id": 5405008964, "node_id": "LA_kwDOJKSTjM8AAAABQinkRA", "url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/labels/platform%20dependent", "name": "platform dependent", "color": "762A75", "default": false, "description": "When something works but not on all platforms"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2023-04-23T19:34:44Z", "updated_at": "2023-04-23T21:04:24Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "### \u26a0\ufe0f Search for existing issues first \u26a0\ufe0f\n\n- [X] I have searched the existing issues, and there is no existing issue for my problem\n\n### Which Operating System are you using?\n\nOther (Please specify in your problem)\n\n### Which version of Auto-GPT are you using?\n\nMaster (branch)\n\n### GPT-3 or GPT-4?\n\nGPT-3.5\n\n### Steps to reproduce \ud83d\udd79\n\nwhen running first time on kali linux if there is nothing saved inside ai_setting.yaml.\n\n### Current behavior \ud83d\ude2f\n\nException has occurred: AttributeError\r\n'NoneType' object has no attribute 'get'\r\n  File \"/media/kali/4b9de0e2-9707-470a-a3e1-2d9ecd620795/python_projects/AutoGPT/Auto-GPT/autogpt/config/ai_config.py\", line 67, in load\r\n    ai_name = config_params.get(\"ai_name\", \"\")\r\n              ^^^^^^^^^^^^^^^^^\r\n  File \"/media/kali/4b9de0e2-9707-470a-a3e1-2d9ecd620795/python_projects/AutoGPT/Auto-GPT/autogpt/prompt.py\", line 173, in construct_prompt\r\n    config = AIConfig.load(CFG.ai_settings_file)\r\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/media/kali/4b9de0e2-9707-470a-a3e1-2d9ecd620795/python_projects/AutoGPT/Auto-GPT/autogpt/cli.py\", line 126, in main\r\n    system_prompt = construct_prompt()\r\n                    ^^^^^^^^^^^^^^^^^^\r\n  File \"/media/kali/4b9de0e2-9707-470a-a3e1-2d9ecd620795/python_projects/AutoGPT/Auto-GPT/run_autogpt.py\", line 4, in <module>\r\n    __main__.autogpt.cli.main()\r\nAttributeError: 'NoneType' object has no attribute 'get'\n\n### Expected behavior \ud83e\udd14\n\nIt should not throw an error but error should be handled without exiting application.\r\n\r\nhere is one possible quick fix for it.\r\n\r\nin directory: autogpt/ai_config.py\r\n\r\n```diff\r\n-    ai_name = config_params.get(\"ai_name\", \"\")\r\n-    ai_role = config_params.get(\"ai_role\", \"\")\r\n-    ai_goals = config_params.get(\"ai_goals\", [])\r\n-    return AIConfig(ai_name, ai_role, ai_goals)\r\n+ try:\r\n+            ai_name = config_params.get(\"ai_name\", \"\")\r\n+            ai_role = config_params.get(\"ai_role\", \"\")\r\n+            ai_goals = config_params.get(\"ai_goals\", [])\r\n+        except AttributeError:\r\n+            ai_name = \"\"\r\n+            ai_role = \"\"\r\n+            ai_goals = []\r\n+        finally:\r\n+            # type: Type[AIConfig]\r\n+            return AIConfig(ai_name, ai_role, ai_goals)\r\n```\n\n### Your prompt \ud83d\udcdd\n\n```yaml\r\n# this file is also empty\r\n```\r\n\n\n### Your Logs \ud83d\udcd2\n\n```log\r\n# this error is not showing here. this file is empty\r\n```\r\n", "reactions": {"url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/3052/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/3052/timeline", "performed_via_github_app": null, "state_reason": null}