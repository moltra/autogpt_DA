{"url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/1936", "repository_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT", "labels_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/1936/labels{/name}", "comments_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/1936/comments", "events_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/1936/events", "html_url": "https://github.com/Significant-Gravitas/Auto-GPT/pull/1936", "id": 1670038648, "node_id": "PR_kwDOJKSTjM5Oaw3W", "number": 1936, "title": "Introduce the usage of langchain", "user": {"login": "Pireax", "id": 11289656, "node_id": "MDQ6VXNlcjExMjg5NjU2", "avatar_url": "https://avatars.githubusercontent.com/u/11289656?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Pireax", "html_url": "https://github.com/Pireax", "followers_url": "https://api.github.com/users/Pireax/followers", "following_url": "https://api.github.com/users/Pireax/following{/other_user}", "gists_url": "https://api.github.com/users/Pireax/gists{/gist_id}", "starred_url": "https://api.github.com/users/Pireax/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Pireax/subscriptions", "organizations_url": "https://api.github.com/users/Pireax/orgs", "repos_url": "https://api.github.com/users/Pireax/repos", "events_url": "https://api.github.com/users/Pireax/events{/privacy}", "received_events_url": "https://api.github.com/users/Pireax/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 5381931159, "node_id": "LA_kwDOJKSTjM8AAAABQMnAlw", "url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/labels/needs%20discussion", "name": "needs discussion", "color": "0e8a16", "default": false, "description": "To be discussed among maintainers"}, {"id": 5395898384, "node_id": "LA_kwDOJKSTjM8AAAABQZ7gEA", "url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/labels/B7", "name": "B7", "color": "76B5C6", "default": false, "description": "PR Batch 7"}, {"id": 5400185961, "node_id": "LA_kwDOJKSTjM8AAAABQeBMaQ", "url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/labels/conflicts", "name": "conflicts", "color": "FBCA04", "default": false, "description": "Automatically applied to PRs with merge conflicts"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2023-04-16T16:35:26Z", "updated_at": "2023-04-22T23:26:07Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "draft": false, "pull_request": {"url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/pulls/1936", "html_url": "https://github.com/Significant-Gravitas/Auto-GPT/pull/1936", "diff_url": "https://github.com/Significant-Gravitas/Auto-GPT/pull/1936.diff", "patch_url": "https://github.com/Significant-Gravitas/Auto-GPT/pull/1936.patch", "merged_at": null}, "body": "### Background\r\nWhile it is good to have diversity of code to be able to explore different directions, especially since all of this is so new, a lot of the basics could be done using langchain. Using this library where possible would consolidate some of the community effort. Since the development of Auto-GPT is so fast it's not feasible to move everything to langchain at once, hence this PR only introduces a minimal set of changes.\r\n\r\n### Changes\r\n- Replaced the openai api calls with the langchain model interfaces to call models.\r\n- Removes the token counter implementation and tests as this is already implemented in langchain.\r\n- Uses the structured messages found in `langchain.schema` for the model chat input.\r\n\r\n### Documentation\r\nNo changes to the docs were necessary as this is an internal change.\r\n\r\n### Test Plan\r\nEnsured the tests ran and functionality was not lost by:\r\n1. Running the system and checking it works.\r\n2. Comparing the inputs and outputs of the system with these changes and without these changes for equality.\r\n3. Running it without an internet connection to ensure the retry mechanism still functioned as expected.\r\n\r\n### PR Quality Checklist\r\n- [x] My pull request is atomic and focuses on a single change.\r\n- [x] I have thoroughly tested my changes with multiple different prompts.\r\n- [x] I have considered potential risks and mitigations for my changes.\r\n- [x] I have documented my changes clearly and comprehensively.\r\n- [x] I have not snuck in any \"extra\" small tweaks changes\r\n", "reactions": {"url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/1936/reactions", "total_count": 4, "+1": 0, "-1": 1, "laugh": 0, "hooray": 3, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/1936/timeline", "performed_via_github_app": null, "state_reason": null}