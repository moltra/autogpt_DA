{"url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/2675", "repository_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT", "labels_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/2675/labels{/name}", "comments_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/2675/comments", "events_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/2675/events", "html_url": "https://github.com/Significant-Gravitas/Auto-GPT/issues/2675", "id": 1676768353, "node_id": "I_kwDOJKSTjM5j8XRh", "number": 2675, "title": "docker-compose missing a large number of requirements for expected results", "user": {"login": "dskvr", "id": 299465, "node_id": "MDQ6VXNlcjI5OTQ2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/299465?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dskvr", "html_url": "https://github.com/dskvr", "followers_url": "https://api.github.com/users/dskvr/followers", "following_url": "https://api.github.com/users/dskvr/following{/other_user}", "gists_url": "https://api.github.com/users/dskvr/gists{/gist_id}", "starred_url": "https://api.github.com/users/dskvr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dskvr/subscriptions", "organizations_url": "https://api.github.com/users/dskvr/orgs", "repos_url": "https://api.github.com/users/dskvr/repos", "events_url": "https://api.github.com/users/dskvr/events{/privacy}", "received_events_url": "https://api.github.com/users/dskvr/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-04-20T13:49:01Z", "updated_at": "2023-04-22T22:43:37Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "### \u26a0\ufe0f Search for existing issues first \u26a0\ufe0f\r\n\r\n- [X] I have searched the existing issues, and there is no existing issue for my problem\r\n\r\n### Which Operating System are you using?\r\n\r\nDocker\r\n\r\n### GPT-3 or GPT-4?\r\n\r\nGPT-4\r\n\r\n### Steps to reproduce \ud83d\udd79\r\n\r\n- run docker-compose\r\n- end process\r\n- no output files are stored locally after closing process, docker crashes, etc\r\n\r\n### Current behavior \ud83d\ude2f\r\n\r\n- volumes that are required to make use of `Auto-GPT` in the majority of use cases are not mounted\r\n- Auto-GPT cannot connect to redis via localhost \r\n\r\n\r\n### Expected behavior \ud83e\udd14\r\n\r\n- `docker-compose.yaml` has all the required members to use autogpt in docker. \r\n\r\n\r\n```\r\n# To boot the app run the following:\r\n# docker-compose run auto-gpt\r\nversion: \"3.9\"\r\n\r\nservices:\r\n  auto-gpt:\r\n    depends_on:\r\n      - redis\r\n    build: ./\r\n    env_file:\r\n      - .env\r\n    volumes:\r\n      - \"./autogpt:/app\"\r\n      - \".env:/app/.env\"\r\n      - \"./ai_settings.yaml:/ai_settings.yaml\"\r\n      - \"./auto_gpt_workspace:/home/appuser/auto_gpt_workspace:rw\"\r\n    links:\r\n      - \"redis\"\r\n    profiles: [\"exclude-from-up\"]\r\n\r\n  redis:\r\n    image: \"redis/redis-stack-server:latest\"\r\n    ports: \r\n      - \"6379:6379\"\r\n    volumes: \r\n      - \"/path/to/backup/:/data:rw\"\r\n      - \"./redis-stack.conf:/redis-stack.conf:ro\"\r\n```\r\n\r\nin `.env` change `REDIS_HOST` to `redis` \r\nAdd an `ai_settings.yaml` if that's your style (otherwise the user prompt still works)\r\nadd a `redis-stack.conf` if you want to be able to persist redis data (you must also change `WIPE_REDIS_ON_START` to `False` ofc)\r\n\r\nExample `redis-stack.conf`\r\n```\r\nsave 120 1 \r\ndbfilename dump.rdb\r\n```\r\n\r\n### Your prompt \ud83d\udcdd\r\n\r\nnot relevant\r\n\r\n### Your Logs \ud83d\udcd2\r\n\r\nnot relevant\r\n\r\n### Additional \r\nWould be willing to open a PR, but with how fast things are moving rn I am afraid I do not have the time to both catch up on developments and contribute meaningful changes. ", "reactions": {"url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/2675/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/2675/timeline", "performed_via_github_app": null, "state_reason": null}