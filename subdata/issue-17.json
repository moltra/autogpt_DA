{"url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/3699", "repository_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT", "labels_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/3699/labels{/name}", "comments_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/3699/comments", "events_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/3699/events", "html_url": "https://github.com/Significant-Gravitas/Auto-GPT/issues/3699", "id": 1692715687, "node_id": "I_kwDOJKSTjM5k5Mqn", "number": 3699, "title": "Add error reporting", "user": {"login": "chadwhitacre", "id": 134455, "node_id": "MDQ6VXNlcjEzNDQ1NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/134455?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chadwhitacre", "html_url": "https://github.com/chadwhitacre", "followers_url": "https://api.github.com/users/chadwhitacre/followers", "following_url": "https://api.github.com/users/chadwhitacre/following{/other_user}", "gists_url": "https://api.github.com/users/chadwhitacre/gists{/gist_id}", "starred_url": "https://api.github.com/users/chadwhitacre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chadwhitacre/subscriptions", "organizations_url": "https://api.github.com/users/chadwhitacre/orgs", "repos_url": "https://api.github.com/users/chadwhitacre/repos", "events_url": "https://api.github.com/users/chadwhitacre/events{/privacy}", "received_events_url": "https://api.github.com/users/chadwhitacre/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 5272676243, "node_id": "LA_kwDOJKSTjM8AAAABOkankw", "url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}, {"id": 5412727599, "node_id": "LA_kwDOJKSTjM8AAAABQp-rLw", "url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/labels/function:%20logging", "name": "function: logging", "color": "EA27AF", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2023-05-02T16:19:42Z", "updated_at": "2023-05-02T22:54:41Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "### Duplicates\r\n\r\n- [X] I have searched the existing issues\r\n\r\n### Summary \ud83d\udca1\r\n\r\nI had a call this morning with @Pwuts and @ntindle. They reached out to ask about adding error reporting using [Sentry](https://sentry.io/welcome/) (disclosure: my employer). Sentry offers [free SaaS for open source projects](https://sentry.io/for/open-source/), though there are volume limits (working to determine these, will follow up with details when I have them).\r\n\r\nThe reason to add error reporting is to be able to find out about bugs in the software without having to wait for users to report them manually. This is a key enabler of shipping high-quality software.\r\n\r\nRough sketch:\r\n\r\n1. Sign up on https://sentry.io/for/open-source/.\r\n1. Add a consent prompt. Prompt once on first run then save in env (will require some refactoring). Consent should be broad to allow for additional info collection in future (e.g., performance data) without re-prompting. Here's [an example from Sentry's own self-hosted installer](https://github.com/getsentry/self-hosted/blob/23.4.0/install/error-handling.sh).\r\n1. How do we prevent or distinguish reports from forks vs. reports from the main project? App already checks for `stable` branch on startup, can extend to check repo. What about release artifacts though? Much less likely to be coming from a fork in a release artifact, so all release artifacts can send.\r\n1. [Add Sentry](https://docs.sentry.io/platforms/python/) to existing error handling ([example](https://github.com/Significant-Gravitas/Auto-GPT/blob/b5f95fd672868256754b7dc53e18f84b7173770f/autogpt/agent/agent.py#L243-L245)). Unhandled exceptions should be reported to Sentry by default out of the box.\r\n1. Add logfile attachments, observing [attachment size limits](https://develop.sentry.dev/sdk/envelopes/#size-limits) (tail -c? compress?).\r\n1. Return a URL or ID for users to use when opening up bug reports, to tie their report to the report in Sentry.\r\n1. [Breadcrumbs](https://docs.sentry.io/product/issues/issue-details/breadcrumbs/)?\r\n1. [Releases](https://docs.sentry.io/product/releases/)?\r\n\r\n### Examples \ud83c\udf08\r\n\r\nHere's [an example from Sentry's own self-hosted installer](https://github.com/getsentry/self-hosted/blob/23.4.0/install/error-handling.sh).\r\n\r\n### Motivation \ud83d\udd26\r\n\r\nThe reason to add error reporting is to be able to find out about bugs in the software without having to wait for users to report them manually. This is a key enabler of shipping high-quality software.", "reactions": {"url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/3699/reactions", "total_count": 3, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 3}, "timeline_url": "https://api.github.com/repos/Significant-Gravitas/Auto-GPT/issues/3699/timeline", "performed_via_github_app": null, "state_reason": null}